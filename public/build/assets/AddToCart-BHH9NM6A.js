import{p as C,i as P,f as v,b as p,t as T,e as I,a as r,d as O,g as j,j as e,n as f,c as A,l as E,h as l,M as S,O as F,a6 as u}from"./main-BP81BtIM.js";var J=v('<span class="animate-pulse">Pridávam...</span>'),L=v("<button><!></button>");function N(b,c){j(c,!1);let h=C(c,"productId",8,""),s=f(!1),d=f(!1);async function m(){l(s,!0);try{(await fetch("/api/cart/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:h()})})).ok&&(l(d,!0),window.dispatchEvent(new CustomEvent("cart:updated")))}catch(a){console.error("Failed to add to cart:",a)}finally{l(s,!1)}}P();var o=L(),g=A(o);{var _=a=>{var n=J();r(a,n)},y=a=>{var n=S(),w=F(n);{var x=t=>{var i=u("✓ Pridané");r(t,i)},k=t=>{var i=u("Pridať do košíka");r(t,i)};p(w,t=>{e(d)?t(x):t(k,!1)},!0)}r(a,n)};p(g,a=>{e(s)?a(_):a(y,!1)})}T(()=>{o.disabled=e(s)||e(d),E(o,1,`px-4 py-2 rounded transition-all ${e(d)?"bg-green-500 text-white":"bg-blue-500 text-white hover:bg-blue-600"} ${e(s)?"opacity-50 cursor-not-allowed":""}`)}),I("click",o,m),r(b,o),O()}export{N as default};
