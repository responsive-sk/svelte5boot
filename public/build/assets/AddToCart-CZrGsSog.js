import{p as C,i as P,f as v,o as p,t as T,v as I,a as r,d as A,g as E,k as e,x as f,c as F,m as O,y as l,F as S,n as j,G as u}from"./main-6Dkdy8r5.js";var G=v('<span class="animate-pulse">Pridávam...</span>'),J=v("<button><!></button>");function N(m,c){E(c,!1);let b=C(c,"productId",8,""),s=f(!1),d=f(!1);async function h(){l(s,!0);try{(await fetch("/api/cart/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:b()})})).ok&&(l(d,!0),window.dispatchEvent(new CustomEvent("cart:updated")))}catch(a){console.error("Failed to add to cart:",a)}finally{l(s,!1)}}P();var o=J(),g=F(o);{var y=a=>{var n=G();r(a,n)},_=a=>{var n=S(),x=j(n);{var w=t=>{var i=u("✓ Pridané");r(t,i)},k=t=>{var i=u("Pridať do košíka");r(t,i)};p(x,t=>{e(d)?t(w):t(k,!1)},!0)}r(a,n)};p(g,a=>{e(s)?a(y):a(_,!1)})}T(()=>{o.disabled=e(s)||e(d),O(o,1,`px-4 py-2 rounded transition-all ${e(d)?"bg-green-500 text-white":"bg-blue-500 text-white hover:bg-blue-600"} ${e(s)?"opacity-50 cursor-not-allowed":""}`)}),I("click",o,h),r(m,o),A()}export{N as default};
