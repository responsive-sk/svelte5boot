import{p as C,a as P,i as T,f as v,b as p,t as I,e as j,c as r,d as A,g as e,h as f,j as E,s as O,k as l,l as S,n as F,o as u}from"./main-C3sqNWw1.js";/*! Project: responsive.sk svelte5boot */var J=v('<span class="animate-pulse">Pridávam...</span>'),L=v("<button><!></button>");function q(b,c){C(c,!1);let h=P(c,"productId",8,""),s=f(!1),d=f(!1);async function m(){l(s,!0);try{(await fetch("/api/cart/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productId:h()})})).ok&&(l(d,!0),window.dispatchEvent(new CustomEvent("cart:updated")))}catch(a){console.error("Failed to add to cart:",a)}finally{l(s,!1)}}T();var o=L(),g=E(o);{var _=a=>{var n=J();r(a,n)},y=a=>{var n=S(),w=F(n);{var x=t=>{var i=u("✓ Pridané");r(t,i)},k=t=>{var i=u("Pridať do košíka");r(t,i)};p(w,t=>{e(d)?t(x):t(k,!1)},!0)}r(a,n)};p(g,a=>{e(s)?a(_):a(y,!1)})}I(()=>{o.disabled=e(s)||e(d),O(o,1,`px-4 py-2 rounded transition-all ${e(d)?"bg-green-500 text-white":"bg-blue-500 text-white hover:bg-blue-600"} ${e(s)?"opacity-50 cursor-not-allowed":""}`)}),j("click",o,m),r(b,o),A()}export{q as default};
