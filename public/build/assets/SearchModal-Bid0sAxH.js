import{S as ze,T as M,U as ye,u,V as be,W as ke,X as we,Y as xe,p as Me,o as Se,i as Te,M as K,O as L,b as S,a as d,d as Ce,g as Ee,j as t,n as B,h,f as p,q as b,c as v,x as Ke,e as k,z as Le,A as Be,r as De,t as je,m as qe,s as U,v as Ie}from"./main-Ods8w44J.js";import{h as Ue}from"./html-CJsBHUKF.js";/* empty css                                                  */function Ve(e,a,_=a){var s=new WeakSet;ze(e,"input",async r=>{var l=r?e.defaultValue:e.value;if(l=V(e)?W(l):l,_(l),M!==null&&s.add(M),await ye(),l!==(l=a())){var w=e.selectionStart,g=e.selectionEnd;e.value=l??"",g!==null&&(e.selectionStart=w,e.selectionEnd=Math.min(g,e.value.length))}}),u(a)==null&&e.value&&(_(V(e)?W(e.value):e.value),M!==null&&s.add(M)),be(()=>{var r=a();if(e===document.activeElement){var l=ke??M;if(s.has(l))return}V(e)&&r===W(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function V(e){var a=e.type;return a==="number"||a==="range"}function W(e){return e===""?null:+e}function R(e,a,_){var s=we(e,a);s&&s.set&&(e[a]=_,xe(()=>{e[a]=null}))}var We=p('<div class="search-loading svelte-1tf1inz"><div class="spinner svelte-1tf1inz"></div> <span>Searching...</span></div>'),Ae=p('<a class="result-item svelte-1tf1inz"><div class="result-content svelte-1tf1inz"><div class="result-header svelte-1tf1inz"><h3 class="result-title svelte-1tf1inz"> </h3> <span class="result-category svelte-1tf1inz"> </span></div> <p class="result-excerpt svelte-1tf1inz"><!></p> <div class="result-meta svelte-1tf1inz"><span class="result-date svelte-1tf1inz"> </span></div></div> <div class="result-arrow svelte-1tf1inz"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M7 17L17 7M17 7H7M17 7V17"></path></svg></div></a>'),Ge=p('<div class="results-list svelte-1tf1inz"></div>'),He=p('<div class="no-results svelte-1tf1inz"><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="svelte-1tf1inz"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.35-4.35"></path></svg> <h3 class="svelte-1tf1inz">No results found</h3> <p class="svelte-1tf1inz">Try adjusting your search terms</p></div>'),Ne=p('<div class="search-hint svelte-1tf1inz"><p class="svelte-1tf1inz">Type at least 2 characters to search</p></div>'),Oe=p('<div class="search-hint svelte-1tf1inz"><p class="svelte-1tf1inz">Start typing to search articles and documentation</p> <div class="search-shortcuts svelte-1tf1inz"><kbd class="svelte-1tf1inz">âŒ˜K</kbd> or <kbd class="svelte-1tf1inz">Ctrl+K</kbd> to open search</div></div>'),Pe=p('<div class="search-overlay svelte-fade svelte-1tf1inz"><div class="search-modal svelte-1tf1inz"><div class="search-header svelte-1tf1inz"><div class="search-input-container svelte-1tf1inz"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.35-4.35"></path></svg> <input type="search" placeholder="Search articles, docs..." class="search-input svelte-1tf1inz"/> <button type="button" class="search-close svelte-1tf1inz"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6L6 18M6 6l12 12"></path></svg></button></div></div> <div class="search-results svelte-1tf1inz"><!></div></div></div>');function Fe(e,a){Ee(a,!1);let _=Me(a,"open",12,!1),s=B(""),r=B([]),l=B(!1),w=B(),g;async function X(){if(t(s).length<2){h(r,[]);return}h(l,!0);try{const c=await(await fetch(`/api/search?q=${encodeURIComponent(t(s))}`)).json();h(r,c.results||[])}catch(i){console.error("Search error:",i),h(r,[])}finally{h(l,!1)}}function Y(){clearTimeout(g),g=setTimeout(X,300)}function D(){_(!0),setTimeout(()=>t(w)?.focus(),100)}function z(){_(!1),h(s,""),h(r,[])}function F(i){i.key==="Escape"&&z()}function J(i){return new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}Se(()=>{function i(c){(c.metaKey||c.ctrlKey)&&c.key==="k"&&(c.preventDefault(),D())}return document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i),clearTimeout(g)}});var Q={openModal:D,closeModal:z};Te();var A=K(),Z=L(A);{var $=i=>{var c=Pe(),G=v(c),H=v(G),ee=v(H),T=b(v(ee),2);Ke(T,o=>h(w,o),()=>t(w));var te=b(T,2),ae=b(H,2),se=v(ae);{var re=o=>{var C=We();d(o,C)},le=o=>{var C=K(),ie=L(C);{var ne=y=>{var x=K(),j=L(x);{var q=n=>{var m=Ge();De(m,5,()=>t(r),Ie,(oe,f)=>{var E=Ae(),ce=v(E),N=v(ce),O=v(N),de=v(O),fe=b(O,2),he=v(fe),P=b(N,2),ue=v(P);Ue(ue,()=>(t(f),u(()=>t(f).excerpt)));var _e=b(P,2),me=v(_e),pe=v(me);je(ge=>{qe(E,"href",(t(f),u(()=>t(f).url))),U(de,(t(f),u(()=>t(f).title))),U(he,(t(f),u(()=>t(f).category))),U(pe,ge)},[()=>(t(f),u(()=>J(t(f).published_at)))]),k("click",E,z),d(oe,E)}),d(n,m)},I=n=>{var m=He();d(n,m)};S(j,n=>{t(r),u(()=>t(r).length>0)?n(q):n(I,!1)})}d(y,x)},ve=y=>{var x=K(),j=L(x);{var q=n=>{var m=Ne();d(n,m)},I=n=>{var m=Oe();d(n,m)};S(j,n=>{t(s),u(()=>t(s).length>0)?n(q):n(I,!1)},!0)}d(y,x)};S(ie,y=>{t(s),u(()=>t(s).length>=2)?y(ne):y(ve,!1)},!0)}d(o,C)};S(se,o=>{t(l)?o(re):o(le,!1)})}Ve(T,()=>t(s),o=>h(s,o)),k("input",T,Y),k("click",te,z),k("click",G,Le(function(o){Be.call(this,a,o)})),k("click",c,z),k("keydown",c,F),d(i,c)};S(Z,i=>{_()&&i($)})}return d(e,A),R(a,"openModal",D),R(a,"closeModal",z),Ce(Q)}export{Fe as default};
